# 使用技巧与最佳实践

> 提升效率的实用技巧和专业建议

---

## 📋 目录

- [文件准备技巧](#文件准备技巧)
- [录制建议](#录制建议)
- [时间轴优化](#时间轴优化)
- [播放优化](#播放优化)
- [视频导出技巧](#视频导出技巧)
- [跨平台使用](#跨平台使用)
- [高级技巧](#高级技巧)

---

## 文件准备技巧

### 📸 照片拍摄建议

#### 拍摄频率
```
演讲时长    推荐拍摄频率    照片数量
─────────────────────────────────
15分钟      每2-3分钟       5-8张
30分钟      每2-3分钟       10-15张
1小时       每3-5分钟       12-20张
2小时       每5分钟         20-30张
```

**最佳实践**：
- ✅ PPT每翻页拍一张
- ✅ 重点内容多拍几张
- ✅ 板书变化时拍摄
- ❌ 避免连续拍摄相似内容

#### 照片质量

**分辨率建议**：
```
用途          推荐分辨率      文件大小
─────────────────────────────────
预览播放      1280x720        1-2MB
标清导出      1280x720        1-2MB
高清导出      1920x1080       2-5MB
4K导出        3840x2160       5-10MB
```

**拍摄技巧**：
- 📱 保持手机稳定，避免模糊
- 💡 确保光线充足，避免反光
- 🎯 对焦清晰，内容居中
- 📐 保持水平，避免倾斜

### 🎵 音频录制建议

#### 录音设备

**手机录音**（推荐）：
```
优点：
  ✅ 方便携带
  ✅ 音质足够
  ✅ 时间戳自动

缺点：
  ⚠️ 环境音较多
  ⚠️ 距离影响音质
```

**专业录音笔**：
```
优点：
  ✅ 音质更好
  ✅ 降噪效果佳
  ✅ 续航时间长

缺点：
  ⚠️ 需要额外设备
  ⚠️ 文件需转换
```

#### 录音格式

**推荐设置**：
```
格式:    MP3
比特率:  128kbps（足够清晰）
采样率:  44.1kHz
声道:    单声道（节省空间）
```

**文件大小估算**：
```
128kbps MP3:
  15分钟 ≈ 15MB
  30分钟 ≈ 30MB
  1小时  ≈ 60MB
  2小时  ≈ 120MB
```

### 📁 文件命名技巧

#### 批量重命名（Windows）

```powershell
# PowerShell 脚本
Get-ChildItem *.jpg | ForEach-Object {
    $timestamp = $_.CreationTime.ToString("yyyy-MM-dd-HH:mm:ss")
    Rename-Item $_ "$timestamp.jpg"
}
```

#### 批量重命名（macOS/Linux）

```bash
# Bash 脚本
for file in *.jpg; do
    timestamp=$(stat -f "%Sm" -t "%Y-%m-%d-%H:%M:%S" "$file")
    mv "$file" "${timestamp}.jpg"
done
```

#### 批量重命名（Python 通用）

```python
# rename_files.py
import os
from datetime import datetime
from pathlib import Path

def rename_by_time(directory):
    for file in Path(directory).glob('*'):
        if file.is_file():
            # 获取文件创建时间
            timestamp = datetime.fromtimestamp(file.stat().st_ctime)
            new_name = timestamp.strftime('%Y-%m-%d-%H:%M:%S') + file.suffix
            file.rename(file.parent / new_name)

# 使用
rename_by_time('./photos')
```

---

## 录制建议

### 🎤 演讲录制流程

#### 准备阶段
```
1. 检查设备电量
   ├─ 手机电量 > 50%
   ├─ 录音笔电量充足
   └─ 准备充电宝

2. 测试录音质量
   ├─ 试录 1-2 分钟
   ├─ 检查音量大小
   └─ 确认环境音

3. 设置时间同步
   ├─ 手机校准时间
   ├─ 启用自动时间
   └─ 记录开始时间
```

#### 录制阶段

**开始录制**：
```
1. 同时开始音频和拍照
   - 先启动录音
   - 立即拍摄第一张照片
   - 记录精确时间（如 14:30:00）

2. 定时拍摄
   - PPT 翻页时拍摄
   - 重要内容多拍
   - 保持时间间隔合理

3. 注意事项
   - 避免遮挡内容
   - 保持手机静音
   - 不要中断录音
```

**结束录制**：
```
1. 先拍摄最后一张照片
2. 再停止音频录制
3. 检查文件完整性
   - 音频文件大小正常
   - 照片数量符合预期
   - 时间戳连续
```

### 📝 会议/讲座录制

**场景1：PPT演讲**
```
拍摄频率:  每翻页拍一张
拍摄角度:  正对屏幕
拍摄距离:  能看清全部内容
预期照片:  20-50张/小时
```

**场景2：板书教学**
```
拍摄频率:  板书变化时拍摄
拍摄角度:  正对黑板
拍摄时机:  写完一部分内容后
预期照片:  10-30张/小时
```

**场景3：混合演示**
```
拍摄频率:  根据内容变化
拍摄对象:  PPT + 板书 + 实物
切换及时:  内容变化时立即拍
预期照片:  30-60张/小时
```

---

## 时间轴优化

### ⏱️ 时间对齐技巧

#### 音频开始早于照片

```
情况：录音从 14:30:00 开始，首张照片 14:30:15

解决方案 1 - 裁剪音频：
  使用 Audacity/ffmpeg 裁掉前 15 秒
  
解决方案 2 - 添加占位照片：
  创建 14:30:00 的占位照片（可用首张照片）
```

#### 照片时间点不准确

```
问题：照片时间戳与实际内容不符

修复方法：
  1. 在播放器中暂停
  2. 手动调整照片时间点
  3. 保存项目配置
  
工具：
  - 项目编辑器
  - 时间轴微调功能
```

### 🎯 时间轴精细调整

**微调操作**：
```javascript
// 浏览器控制台调试
// 查看当前时间轴
console.log(timeline.getEvents());

// 调整照片时间点
timeline.adjustPhotoTime('photo-id', newTime);

// 保存更改
timeline.save();
```

---

## 播放优化

### 🎬 播放性能优化

#### 照片预加载

**优化前**：
```
播放卡顿，切换延迟
CPU占用高
内存占用波动大
```

**优化后**：
```
流畅播放，无缝切换
CPU占用低
内存占用稳定
```

**设置方法**：
```javascript
// 在 player.js 配置
const playerConfig = {
  preloadCount: 3,      // 预加载3张照片
  cacheSize: 10,        // 缓存10张照片
  transitionDuration: 500  // 过渡时长500ms
};
```

#### 浏览器优化

**Chrome/Edge**：
```
1. 启用硬件加速
   设置 > 系统 > 使用硬件加速

2. 调整内存限制
   --js-flags="--max-old-space-size=4096"

3. 禁用不必要的扩展
```

**Firefox**：
```
1. 启用 WebGL
   about:config > webgl.force-enabled = true

2. 增加缓存
   about:config > browser.cache.memory.capacity

3. 启用多进程
   about:config > browser.tabs.remote.autostart = true
```

### 🎨 视觉效果调整

#### 过渡动画选择

```
淡入淡出（Fade）:
  ✅ 适合所有场景
  ✅ 最平滑
  ⚡ 性能最好

滑动（Slide）:
  ✅ 适合序列内容
  ⚠️ 方向要合理
  ⚡ 性能良好

缩放（Zoom）:
  ✅ 适合强调重点
  ⚠️ 不宜过度使用
  ⚡ 性能中等
```

---

## 视频导出技巧

### 📹 导出参数选择

#### 分辨率选择指南

```
用途              推荐分辨率    文件大小(30分钟)
──────────────────────────────────────
在线分享          720p          800MB
课程回看          1080p         1.5GB
存档保存          1080p         1.5GB
高质量演示        4K            4-6GB
移动设备观看      720p          800MB
```

#### 比特率设置

```
分辨率    推荐比特率    质量
─────────────────────────────
720p      4000kbps      标准
720p      6000kbps      高
1080p     8000kbps      标准
1080p     12000kbps     高
4K        20000kbps     标准
4K        35000kbps     高
```

### ⚡ 导出加速

#### 硬件加速（推荐）

**Windows**：
```python
# 使用 NVENC（NVIDIA）
export_config = {
    'codec': 'h264_nvenc',
    'preset': 'fast',
    'gpu': 0
}
```

**macOS**：
```python
# 使用 VideoToolbox
export_config = {
    'codec': 'h264_videotoolbox',
    'preset': 'medium'
}
```

#### 多线程导出

```python
# 配置文件
export_settings = {
    'threads': 4,          # CPU核心数
    'parallel': True,      # 并行处理
    'memory_limit': '4GB'  # 内存限制
}
```

---

## 跨平台使用

### 💻 平台特定技巧

#### Windows

**文件路径处理**：
```python
# 使用 pathlib 处理路径
from pathlib import Path
file_path = Path("data/uploads/audio.mp3")
```

**快捷键**：
```
Ctrl + O    打开文件
Ctrl + S    保存项目
Ctrl + E    导出视频
Space       播放/暂停
```

#### macOS

**文件命名注意**：
```bash
# 冒号在 macOS 中需要转义
# 系统会自动处理，无需手动操作
```

**快捷键**：
```
Cmd + O     打开文件
Cmd + S     保存项目
Cmd + E     导出视频
Space       播放/暂停
```

#### Linux

**依赖安装**：
```bash
# Ubuntu/Debian
sudo apt install python3-pip ffmpeg

# CentOS/RHEL
sudo yum install python3-pip ffmpeg

# Arch Linux
sudo pacman -S python-pip ffmpeg
```

**权限设置**：
```bash
# 确保数据目录可写
chmod 755 data/
chmod 777 data/uploads/
```

### 📱 移动设备配合

#### iOS

**文件传输**：
```
方法1: AirDrop
  - 快速传输到Mac
  - 保持文件时间戳

方法2: iCloud
  - 自动同步
  - 需要网络连接

方法3: iTunes
  - USB传输
  - 速度快，稳定
```

#### Android

**文件传输**：
```
方法1: USB连接
  - MTP模式传输
  - 保持时间戳

方法2: 云存储
  - Google Drive/OneDrive
  - 自动备份

方法3: 无线传输
  - FTP服务器
  - 局域网共享
```

---

## 高级技巧

### 🔧 自定义配置

#### 修改默认设置

```python
# config.py
class Config:
    # 上传限制
    MAX_AUDIO_SIZE = 500 * 1024 * 1024  # 500MB
    MAX_PHOTO_SIZE = 10 * 1024 * 1024   # 10MB
    
    # 播放器设置
    DEFAULT_TRANSITION = 'fade'
    TRANSITION_DURATION = 500  # 毫秒
    PRELOAD_COUNT = 3
    
    # 导出设置
    DEFAULT_RESOLUTION = '1080p'
    DEFAULT_FPS = 30
