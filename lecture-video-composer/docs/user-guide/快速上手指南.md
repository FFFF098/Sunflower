# 快速上手指南

> 5分钟学会使用演讲视频合成系统

---

## 🎯 学习目标

完成本指南后，你将能够：

- ✅ 启动并访问 Web 应用
- ✅ 上传音频和照片文件
- ✅ 创建演讲项目
- ✅ 播放和控制演讲回放
- ✅ 导出视频文件（可选）

**预计时间**：5-10 分钟

---

## 📋 准备工作

### 1. 文件准备

按照命名规范准备你的文件：

**文件命名格式**：`YYYY-MM-DD-HH:MM:SS.扩展名`

**示例文件**：
```
演讲音频.mp3  →  2025-10-24-14:30:00.mp3
PPT照片1.jpg  →  2025-10-24-14:32:15.jpg
PPT照片2.jpg  →  2025-10-24-14:35:40.jpg
板书照片.jpg  →  2025-10-24-14:38:22.jpg
```

### 2. 文件要求

| 文件类型 | 格式支持 | 大小限制 | 建议 |
|---------|---------|---------|------|
| **音频** | MP3, WAV, M4A | < 500MB | MP3 格式最佳 |
| **照片** | JPG, PNG | < 10MB/张 | 1920x1080 分辨率 |

---

## 🚀 第一步：启动应用

### 启动服务

```bash
# 进入项目目录
cd lecture-video-composer

# 启动 Web 服务
python run_web.py
```

### 访问应用

打开浏览器，访问：**http://127.0.0.1:5000**

你会看到欢迎界面：

```
┌─────────────────────────────────┐
│  演讲视频合成系统                │
│                                 │
│  [开始使用]                     │
└─────────────────────────────────┘
```

---

## 📤 第二步：上传文件

### 操作步骤

1. **点击"上传文件"按钮** 或直接拖拽文件到上传区域

2. **选择文件**：
   - 选择 1 个音频文件（必需）
   - 选择多张照片（必需，至少 2 张）

3. **开始上传**：
   - 系统会显示上传进度
   - 上传完成后显示文件列表

### 上传界面说明

```
┌─────────────────────────────────┐
│  📁 文件上传                    │
├─────────────────────────────────┤
│                                 │
│  🎵 音频文件 (1)                │
│  ├─ 2025-10-24-14:30:00.mp3    │
│  └─ 15.2 MB                     │
│                                 │
│  📷 照片文件 (5)                │
│  ├─ 2025-10-24-14:32:15.jpg    │
│  ├─ 2025-10-24-14:35:40.jpg    │
│  ├─ 2025-10-24-14:38:22.jpg    │
│  └─ ...                         │
│                                 │
│  [创建项目]                     │
└─────────────────────────────────┘
```

### 常见问题

**Q: 文件名不符合格式怎么办？**
A: 系统会提示错误。请按 `YYYY-MM-DD-HH:MM:SS` 格式重命名文件。

**Q: 可以上传多少照片？**
A: 建议 5-50 张照片。照片越多，生成的视频内容越丰富。

---

## 🎬 第三步：创建项目

### 自动创建流程

1. **点击"创建项目"** 按钮

2. **系统自动处理**：
   - 解析文件时间戳
   - 生成时间轴
   - 同步音频和照片
   - 创建项目配置

3. **完成提示**：显示"项目创建成功"

### 项目信息

```
┌─────────────────────────────────┐
│  📊 项目信息                    │
├─────────────────────────────────┤
│  项目名称: 我的演讲              │
│  创建时间: 2025-10-26 12:00     │
│  音频时长: 15:30                │
│  照片数量: 5 张                 │
│  时间轴: ████████████░░░ 85%   │
│                                 │
│  [开始播放]  [导出视频]         │
└─────────────────────────────────┘
```

---

## ▶️ 第四步：播放演讲

### 播放控制

点击**"开始播放"**进入播放器界面

### 播放器界面

```
┌───────────────────────────────────────┐
│  ┌─────────────────────────────────┐  │
│  │                                 │  │
│  │        当前照片显示区            │  │
│  │         (自动切换)               │  │
│  │                                 │  │
│  └─────────────────────────────────┘  │
│                                       │
│  ⏯️  ⏸️  ⏹️  🔊 ════════ 03:25/15:30 │
│                                       │
│  时间轴：                             │
│  ├─📷─────📷──────📷─────📷──────📷─┤ │
│  0:00   3:15   6:30   9:45   15:30  │
└───────────────────────────────────────┘
```

### 控制按钮

| 按钮 | 功能 | 快捷键 |
|------|------|--------|
| ⏯️ **播放/暂停** | 开始或暂停播放 | `Space` |
| ⏹️ **停止** | 停止并重置 | `Esc` |
| ⏪ **后退** | 后退 5 秒 | `←` |
| ⏩ **前进** | 前进 5 秒 | `→` |
| 🔊 **音量** | 调节音量 | `↑` `↓` |

### 播放特性

- ✅ **自动同步**：照片根据时间戳自动切换
- ✅ **平滑过渡**：3种过渡动画（淡入淡出、滑动、缩放）
- ✅ **精确控制**：点击时间轴任意位置跳转
- ✅ **全屏播放**：双击进入全屏模式

---

## 💾 第五步：导出视频（可选）

### 导出设置

1. **点击"导出视频"**按钮

2. **配置参数**：
   ```
   分辨率：  ○ 720p  ● 1080p  ○ 4K
   帧率：    ○ 24fps ● 30fps  ○ 60fps
   格式：    ● MP4   ○ MOV    ○ AVI
   质量：    ═══════●═══ 高质量
   ```

3. **开始导出**

### 导出进度

```
┌─────────────────────────────────┐
│  📹 视频导出中...               │
├─────────────────────────────────┤
│                                 │
│  当前进度: 45%                  │
│  ████████████░░░░░░░░░░         │
│                                 │
│  已处理: 135/300 帧             │
│  预计剩余: 2 分钟               │
│                                 │
│  [取消]                         │
└─────────────────────────────────┘
```

### 导出完成

导出的视频保存在：`data/exports/` 目录

---

## 🎓 进阶技巧

### 1. 批量处理

如果你有多场演讲需要处理：

```bash
# 为每场演讲创建独立目录
演讲A/
  ├─ 2025-10-24-14:00:00.mp3
  ├─ 2025-10-24-14:02:00.jpg
  └─ ...

演讲B/
  ├─ 2025-10-24-16:00:00.mp3
  └─ ...
```

### 2. 文件重命名工具

使用脚本批量重命名文件：

```bash
# 示例：将录音.mp3 重命名为时间戳格式
# 根据文件创建时间自动生成
python tools/rename_by_time.py ./演讲文件夹/
```

### 3. 时间轴微调

如果照片切换时机不理想：

1. 在播放器中暂停
2. 手动调整照片时间点
3. 保存修改

### 4. 添加字幕

系统支持 AI 自动生成字幕：

1. 在项目设置中启用"自动字幕"
2. 选择语言（中文/英文）
3. 系统自动识别并添加字幕

---

## ❓ 常见问题

### Q1: 文件上传失败

**可能原因**：
- 文件名格式不正确
- 文件大小超限
- 文件格式不支持

**解决方法**：
1. 检查文件命名是否符合 `YYYY-MM-DD-HH:MM:SS` 格式
2. 压缩过大的文件
3. 转换为支持的格式（MP3, JPG）

### Q2: 播放不同步

**可能原因**：
- 文件时间戳不连续
- 照片时间点超出音频时长

**解决方法**：
1. 检查文件时间戳是否在合理范围内
2. 确保照片时间在音频时长内
3. 手动调整时间轴

### Q3: 导出视频卡住

**可能原因**：
- 视频文件过大
- 系统资源不足

**解决方法**：
1. 选择较低分辨率（720p）
2. 关闭其他应用程序
3. 检查磁盘空间

---

## 📚 下一步

恭喜！你已经掌握了基本使用方法。

**继续学习**：
- [使用技巧](./使用技巧.md) - 高级功能和技巧
- [常见问题](./FAQ.md) - 更多问题解答
- [快速测试指南](../testing/快速测试指南.md) - 功能验证

**获取帮助**：
- 📧 提交问题：[GitHub Issues](https://github.com/Qiniu-ERE/Sunflower/issues)
- 💬 讨论交流：[Discussions](https://github.com/Qiniu-ERE/Sunflower/discussions)

---

<p align="center">
  <sub>最后更新：2025-10-26 | 适用版本：v2.2</sub>
</p>
